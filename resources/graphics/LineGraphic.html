
<html>
<head>

<style>
	body
	{
		background: #f2f2f2;
		padding: 16px;
	}

	.chart-container
	{
		position: relative;
		margin: auto;
		height: 90vh;
		width: 90vw;
		display: none;	
	}
	
	.Alumnos{
		height: 50%;
		color: black;
	}
	
	.Calificaciones{
		height: 50%;
		color: black;
	}
	
	.GenerarGrafico{
		position: fixed;
		bottom: 5px;
		color: black;
	}
	
</style>
		
<script type="text/javascript" src="../../lib/Chart.js"></script>
<script type="text/javascript" src="../../lib/color-hash.js"></script>

</head>

<body>
<div id="inicio">
	<div class="Alumnos">1- SELECCIONA LOS ALUMNOSS</div>
	<div class="Calificaciones">2- SELECCIONA LAS CALIFICACIONES</div>
	<div class="GenerarGrafico">3- GENERA EL GRÁFICO</div>
</div>

<div id="chart-container" class="chart-container">
	<canvas id="myChart"></canvas>
</div>


<script>

var options = {
	maintainAspectRatio: false,
	responsive: true,
	responsiveAnimationDuration: 0, // animation duration after a resize, better perfomance at 0
	showLines: true,
	spanGaps: false, //si se quiere mostrar las lineas cuando en algÃºn elemento no hay dato (NaN)
	animation:{
		 duration: 0 // better performance at 0
	}, //animation
	layout: {
		padding: {
			top: 20,
		} //pading
	}, //layout
	elements: {
		point : {
			pointStyle: 'circle',
			radius: 3,
		}, //points
		line: {
			tension: 0 //disable bezier curves, better performance
		}
	}, //elements
	legend: {
		display: true,
		position: 'bottom',
		onHover: function() {
			legendOnHover();
		},
		labels : {
			padding: 20,
			usePointStyle: true,
			fontSize: 12,
			fontColor: 'rgba(0, 0, 0, 1)',
			fontFamily: 'sans-serif'
		} //labels
	}, //legend
	tooltips: {
		mode: 'point',
		position: 'nearest',
		cornerRadius: 6,
		caretSize: 10
	}, //tooltips
    scales: {
        yAxes: [{
        	gridLines: {
        		display: true,
        		color: 'rgba(0, 0, 0, 0.4)'
        	}, //gridLines
            ticks: 
            {
                beginAtZero:true,
                max: 10,
                stepSize: 1,
                fontColor: 'rgba(0, 0, 0, 1)'
            }//ticks
        }], //yAxes
        xAxes :[{
        	gridLines: {
        		display: true,
        		color: 'rgba(0, 0, 0, 0.4)'
        	}, //gridLines
        	ticks: {
        		autoSkip: false,
        		fontColor: 'rgba(0, 0, 0, 1)'
        	}
        }]//xAxes
    } //scales
} //options

var colorHash = new ColorHash();
var ctx = document.getElementById('myChart');
var myChart = new Chart(ctx,{
	type: 'line',
	data: '',
	options: options
});

// Funcion que genera un grafico con el dataset que recibe
// data : el dataset a mostrar en el gráfico
function generateChart(data){
	document.getElementById('chart-container').style.display = 'block';
	document.getElementById('inicio').style.display = 'none';
	myChart.data = data;
	myChart.update();
}

//Funcion que añade un data set al gráfico
function addDataSet(dataset) {
	myChart.data.datasets.push(dataset);
	myChart.update();
}

//Funcion que elimina el ultimo data set
function removeDataSet() {
	myChart.data.datasets.pop();
	myChart.update();
}

//Funcion que limpia el gráfico
function clearChart(){
	myChart.data = { labels:[],datasets: []};
	myChart.update();
}

//Funcion que devuelve un color en formato hexadecimal
//en base a el string que se le pasa
function colorGeneration(color){
	return colorHash.hex(color);
}

//Funcion que se ejecuta al pasar el raton por label(nombres de los alumnos)
function legendOnHover() {
	//TODO mostar el label completo
}


</script>

</body>
</html>